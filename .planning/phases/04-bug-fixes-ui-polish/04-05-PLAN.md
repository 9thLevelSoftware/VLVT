---
phase: 04-bug-fixes-ui-polish
plan: 05
type: execute
wave: 3
depends_on: ["04-02", "04-03"]
files_modified:
  - backend/auth-service/src/index.ts
  - backend/profile-service/src/index.ts
  - backend/chat-service/src/index.ts
autonomous: true

must_haves:
  truths:
    - "Security policy URL points to actual policy page"
    - "Backend placeholder script is removed or documented"
    - "No TODO/placeholder comments remain in shipped code"
  artifacts:
    - path: "backend/auth-service/src/index.ts"
      provides: "Security.txt with valid policy URL"
      contains: "Policy:"
  key_links:
    - from: "security.txt endpoint"
      to: "published policy"
      via: "URL reference"
      pattern: "vlvtapp\\.com/security"
---

<objective>
Clean up remaining backend placeholders and incomplete items

Purpose: Production code has no TODO placeholders or dummy URLs
Output: security.txt points to real policy, placeholder script removed
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/04-bug-fixes-ui-polish/04-CONTEXT.md
@INCOMPLETE_FEATURES_FINDINGS.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update Security Policy URLs</name>
  <files>
    backend/auth-service/src/index.ts
    backend/profile-service/src/index.ts
    backend/chat-service/src/index.ts
  </files>
  <action>
Update the security.txt response in all three backend services.

Find the /.well-known/security.txt endpoint in each service and update:
- Change placeholder policy URL to: `https://vlvtapp.com/.well-known/security-policy`
- Ensure contact email is valid
- Verify expires date is set appropriately (1 year from now)

The security.txt format should be:
```
Contact: security@vlvtapp.com
Expires: [1 year from current date in ISO format]
Policy: https://vlvtapp.com/.well-known/security-policy
Preferred-Languages: en
```

Note: The policy URL should point to a planned security policy page. Even if the page doesn't exist yet, use the production domain URL so it's ready when deployed.
  </action>
  <verify>
Grep for "placeholder" or "TODO" in security.txt sections returns no results
  </verify>
  <done>Security.txt in all services has production-ready URLs</done>
</task>

<task type="auto">
  <name>Task 2: Clean Up Backend Placeholder Script</name>
  <files>
    backend/start.sh
  </files>
  <action>
Handle the placeholder backend/start.sh script:

Option A (preferred): Delete the file if it serves no purpose
- The backend services are deployed individually to Railway
- Each service has its own npm scripts (npm start, npm run dev)
- A top-level start.sh is not needed

Option B: If the file is needed for local development, update it:
```bash
#!/bin/bash
# Local development helper - starts all backend services
# For production, deploy individual services to Railway

echo "Starting all backend services for local development..."
echo ""
echo "This script is for LOCAL DEVELOPMENT ONLY."
echo "For production deployment, use Railway CLI for each service:"
echo "  cd backend/auth-service && railway up"
echo "  cd backend/profile-service && railway up"
echo "  cd backend/chat-service && railway up"
echo ""

# Start services in parallel
cd backend/auth-service && npm run dev &
cd backend/profile-service && npm run dev &
cd backend/chat-service && npm run dev &

wait
```

Choose the appropriate option based on whether the script is used in any workflow.
  </action>
  <verify>
Either: file is deleted OR file has meaningful content (no "placeholder" text)
  </verify>
  <done>Backend start.sh is either removed or properly documented</done>
</task>

</tasks>

<verification>
- [ ] No placeholder URLs in security.txt responses
- [ ] No placeholder comments in backend code
- [ ] Backend tests still pass: `cd backend/auth-service && npm test`
</verification>

<success_criteria>
Backend code is production-ready:
1. Security.txt points to real policy URL
2. No placeholder scripts or TODO comments
3. All services still pass tests
</success_criteria>

<output>
After completion, create `.planning/phases/04-bug-fixes-ui-polish/04-05-SUMMARY.md`
</output>
