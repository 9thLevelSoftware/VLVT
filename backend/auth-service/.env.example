PORT=3001
NODE_ENV=development

# IMPORTANT: Generate a strong random secret for production
# Example: openssl rand -base64 64
JWT_SECRET=CHANGE_THIS_TO_A_STRONG_RANDOM_SECRET_IN_PRODUCTION
DATABASE_URL=postgresql://postgres:CHANGE_PASSWORD@postgres:5432/vlvt

# CORS Configuration
# Set to your frontend URL in production (e.g., https://yourdomain.com)
# For local development, use http://localhost:19006 or your Expo dev server URL
CORS_ORIGIN=http://localhost:19006

# =============================================================================
# OAuth Provider Configuration
# =============================================================================

# Apple Sign-In Configuration (REQUIRED for iOS production)
# Get from Apple Developer Console > Identifiers > App IDs > Your App
APPLE_CLIENT_ID=app.vlvt

# Apple Sign-In Web Flow Configuration (REQUIRED for Android)
# This is SEPARATE from APPLE_CLIENT_ID which is for iOS native flow
# See docs/runbooks/apple-secret-rotation.md for rotation procedure

# Apple Services ID (for web-based sign-in)
# Get from Apple Developer Portal -> Identifiers -> Services IDs
# APPLE_SERVICES_ID=vip.getvlvt.web

# Apple Developer Team ID (10 characters)
# Get from Apple Developer Portal -> Membership
# APPLE_TEAM_ID=XXXXXXXXXX

# Apple Sign-In Key ID
# Get from Apple Developer Portal -> Keys
# APPLE_KEY_ID=XXXXXXXXXX

# Apple Private Key (contents of .p8 file, NOT the file path)
# Get from Apple Developer Portal -> Keys -> Download
# Store as a single line with \n for newlines, or use Railway's multiline support
# APPLE_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----\nMIGT...

# Callback URL for Apple web flow (must match Apple Developer Portal configuration)
# APPLE_REDIRECT_URI=https://auth-service.railway.app/auth/apple/callback

# Google OAuth Configuration (REQUIRED for Google Sign-In)
# Get from Google Cloud Console > APIs & Services > Credentials
GOOGLE_CLIENT_ID=911953026264-2bnjftngl068kovsgs1qo3agredi77u8.apps.googleusercontent.com

# =============================================================================
# Test Endpoints Configuration (for Beta Testing)
# =============================================================================

# Set to 'true' to enable test endpoints in production (/auth/test-login, etc.)
# WARNING: Only enable during controlled beta testing
# ENABLE_TEST_ENDPOINTS=false

# REQUIRED if ENABLE_TEST_ENDPOINTS=true in production
# Generate with: openssl rand -base64 32
# Send via x-admin-api-key header to access test endpoints
# TEST_ENDPOINTS_API_KEY=your-secure-admin-api-key

# =============================================================================
# KYCAID ID Verification (REQUIRED for profile creation)
# =============================================================================

# Get from KYCAID Dashboard > Settings > API
KYCAID_API_TOKEN=your-kycaid-api-token
KYCAID_FORM_ID=your-kycaid-form-id

# Optional: Custom API URL (default is https://api.kycaid.com)
# KYCAID_API_URL=https://api.kycaid.com

# Optional: Base URL for webhook callbacks (defaults to Railway URL)
# API_BASE_URL=https://your-auth-service-url.com

# =============================================================================
# Monitoring & Error Tracking
# =============================================================================

# Sentry Error Tracking (RECOMMENDED for production)
# Get your DSN from: https://sentry.io/ -> Settings -> Projects -> [Your Project] -> Client Keys (DSN)
# Leave empty to disable Sentry error tracking for local development
SENTRY_DSN=

# =============================================================================
# Email Service Configuration (REQUIRED for email verification and password reset)
# =============================================================================
# Supported providers: console (dev only), smtp, sendgrid, resend
# For production, use 'resend' (recommended) or 'sendgrid'
EMAIL_PROVIDER=console

# Resend Configuration (if EMAIL_PROVIDER=resend)
# Get from: Resend Dashboard -> API Keys -> Create API Key
# RESEND_API_KEY=re_xxxxxxxxx

# SendGrid Configuration (if EMAIL_PROVIDER=sendgrid)
# Get from: SendGrid Dashboard -> Settings -> API Keys
# SENDGRID_API_KEY=SG.xxxxxxxxx

# SMTP Configuration (if EMAIL_PROVIDER=smtp)
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your-smtp-user
# SMTP_PASS=your-smtp-password

# Email sender configuration
# EMAIL_FROM must match a verified domain in your email provider
EMAIL_FROM=noreply@getvlvt.vip
APP_NAME=VLVT
APP_URL=https://getvlvt.vip
